# X-ray 의료 영상 분석

## 1. 기본 개념
- **원리**:** X-ray는 고에너지 방사선을 인체에 투과하여, 뼈와 같은 고밀도 구조를 밝게 표현하고 연부 조직을 어둡게 나타냅니다. 방사선이 인체를 통과할 때 각 조직의 방사선 흡수율에 따라 명암이 결정됩니다.
  
- **장점:** 빠르고 간단하게 촬영할 수 있으며, 폐 질환이나 골격 문제를 쉽게 확인할 수 있습니다.
  
- **단점:** 연부 조직 간 구분이 어렵고, 2D 이미지로 조직이 겹쳐 보일 수 있습니다.

## 2. 특성
- **대비**: X-ray 이미지는 뼈와 공기 같은 고밀도와 저밀도 구조 간의 대비가 크기 때문에, 골격이나 내부 구조를 명확히 확인할 수 있습니다.
- **해상도 제한**: X-ray는 2D 이미지로 인체의 깊이 정보를 포함하지 않기 때문에, 작은 병변이나 미세한 구조를 명확히 구분하기 어렵습니다.
- **노이즈**: 방사선의 불균일한 흡수로 인해 일부 노이즈가 발생할 수 있으며, 낮은 해상도에서는 작은 병변이 잘 보이지 않을 수 있습니다.

## 3. 해당 이미지에 적합한 전처리 방법
- **강도 조정 및 정규화**
  - Min-Max Scaling을 통해 픽셀 강도를 [0,1] 범위로 조정하여 모델 학습에 적합하게 변환합니다.
  - Histogram Equalization 또는 CLAHE를 사용해 대비를 높여 작은 병변을 강조할 수 있습니다.
- **노이즈 제거**
  - Gaussian 필터를 사용해 랜덤 노이즈를 감소시키고, Median 필터로 작은 결절이나 병변의 탐지를 돕습니다.
- **Edge Enhancement**
  - 윤곽을 강조하기 위해 특정 필터링을 적용하여 뼈와 밀도가 높은 구조를 더 뚜렷하게 표현할 수 있습니다.

## 4. 주요 응용 분야 및 활용 예시
- **폐 질환 진단**: 흉부 X-ray는 결핵, 폐렴, 폐암 등의 진단에 널리 사용됩니다.
- **골격 검사**: 뼈의 골절, 변형, 관절염 등을 확인할 때 유용합니다.
- **심장 크기 평가**: 심장의 크기를 간단히 측정해, 심부전이나 심장 비대 여부를 평가할 수 있습니다.

## 5. 데이터셋 예시와 주요 특징
- **NIH Chest X-rays**: 흉부 X-ray 이미지로 다양한 질병 라벨이 포함된 약 10만 장 이상의 데이터셋.
- **CheXpert**: Stanford에서 개발된 대규모 흉부 X-ray 데이터셋으로 비정상 소견 및 질병에 대한 자세한 라벨이 포함되어 있어 다중 분류와 이상 소견 검출에 유리합니다.
- **MIMIC-CXR 데이터셋**: 의료 기록과 X-ray 영상이 포함되어 있으며, 다양한 흉부 질환과 연관된 데이터가 포함되어 있습니다.

## 6. 전처리 시 고려할 잠재적 문제점 및 해결 방법
- **저조도 및 대비 부족 문제**
  - 해결 방법: Histogram Equalization 및 CLAHE로 대비를 높여 작은 병변이나 디테일을 더 잘 확인할 수 있도록 개선합니다.
- **노이즈로 인한 디테일 손실**
  - 해결 방법: Gaussian과 Median 필터를 적용해 노이즈를 줄이며, 중요한 디테일을 살립니다. 과도한 필터링은 주의가 필요합니다.
- **해상도 제한**
  - 해결 방법: Super-Resolution 기법을 사용해 저해상도 이미지를 고해상도로 변환하여 미세 병변 탐지에 도움을 줄 수 있습니다.

## 7. 딥러닝 모델의 추천 아키텍처 및 적용 방법
- **ResNet, DenseNet**: 분류 모델로 폐 질환 분류나 심장 크기 평가와 같은 단일 분류 작업에 적합합니다.
- **U-Net, Mask R-CNN**: 폐 결절 검출 등 세분화 작업에 유리해 병변의 위치를 파악할 때 효과적입니다.
- **모델 적용 방법**
  - 다양한 X-ray 데이터셋을 활용하여 이상 소견을 분류하거나 병변을 탐지하도록 학습합니다.
  - X-ray 영상은 일반적으로 간단한 구조를 갖기 때문에, 사전 학습된 모델을 Fine-tuning하여 빠르게 최적화할 수 있습니다.

## 8. 최신 연구 동향 요약

- **Transformer 기반 모델**: Vision Transformer(ViT)와 같은 모델이 X-ray의 전체 구조적 패턴을 학습하여 병변 탐지와 세분화에 효과적.
- **Attention 기법**: 중요한 부위에 가중치를 두어 모델이 병변에 집중할 수 있도록 하며, 예를 들어 CheXNet에서 흉부 X-ray 폐렴 탐지에 사용.
- **Multi-task Learning**: 여러 작업(분류, 위치 탐지)을 동시에 수행하는 방식으로, 효율성을 높이고 데이터 일반화를 개선.
- **Generative Adversarial Networks (GANs)**: 노이즈 제거, 해상도 개선 및 데이터 증강을 통해 X-ray 영상 품질과 학습 데이터 다양성 확보.
- **Self-supervised 및 Transfer Learning**: 레이블이 적거나 없는 데이터에서 유용한 특징을 학습하여 전이 학습(Fine-tuning)으로 성능을 강화.
